@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Reset - Remove all default margins and padding */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  margin: 0 !important;
  padding: 0 !important;
  height: 100%;
}

/* Performance optimizations */
* {
  box-sizing: border-box;
}

/* Optimize image rendering */
img {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Loading animations */
@keyframes shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}



.loading-shimmer {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200px 100%;
  animation: shimmer 1.5s infinite;
}

/* Show navigation buttons in mobile view */
@media (max-width: 768px) {
  .mobile-nav-buttons {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    overflow-x: auto;
    -ms-overflow-style: none;  /* Hide scrollbar in IE and Edge */
    scrollbar-width: none;  /* Hide scrollbar in Firefox */
  }
  
  /* Hide scrollbar in Chrome, Safari and Opera */
  .mobile-nav-buttons::-webkit-scrollbar {
    display: none;
  }
  
  .mobile-nav-buttons button {
    color: white;
    text-decoration: none;
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    transition: background-color 0.2s;
    white-space: nowrap;
    background: transparent;
    border: none;
  }
  
  .mobile-nav-buttons button:hover {
    background-color: rgba(34, 197, 94, 0.2);
  }
}

/* Apply two-layer background to entire website */
html, body {
  background-color: transparent !important;
  min-height: 100vh !important;
  margin: 0;
  padding: 0;
}

/* Global Fixed Background - Single Canvas Architecture */
.global-fixed-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0; /* above body background, below content */
  pointer-events: none;
}

/* Back layer: Blurred full-screen background that fills edges */
.global-fixed-background::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('https://oyc9u5lfcg.ufs.sh/f/lRAiGHfLmtpEpYzbDMSmV2SIraKe0WUujA76wYsQtqB31Dkx');
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  filter: blur(8px);
  z-index: -2;
}

/* Front layer: Clear contain-scaled image showing full salad bowl */
.global-fixed-background::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: linear-gradient(rgba(10, 10, 10, 0.65), rgba(10, 10, 10, 0.65)), url('https://oyc9u5lfcg.ufs.sh/f/lRAiGHfLmtpEpYzbDMSmV2SIraKe0WUujA76wYsQtqB31Dkx');
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  z-index: -1;
}

/* Optimize background image loading */
.main-background-container {
  will-change: transform;
  transform: translateZ(0);
  position: relative;
  min-height: 100vh;
  width: 100%;
  background: transparent; /* Let body handle the background */
}

/* Menu Grid Optimization */
.menu-grid-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1rem;
  max-width: 1000px;
  margin: 0 auto;
}

@media (min-width: 1024px) {
  .menu-grid-container {
    grid-template-columns: repeat(3, 1fr);
    max-width: 900px;
  }
}

@media (max-width: 1023px) and (min-width: 768px) {
  .menu-grid-container {
    grid-template-columns: repeat(2, 1fr);
    max-width: 700px;
  }
}

@media (max-width: 767px) {
  .menu-grid-container {
    grid-template-columns: 1fr;
    max-width: 320px;
  }
}

/* Ensure transparent body so global background is visible */
body {
  background-color: transparent !important;
  padding-top: 0px; /* No padding - header at absolute top */
  margin: 0 !important; /* Remove any default margins */
  min-height: 100vh;
}

/* Hero section uses global background */
#hero-section {
  background: transparent !important;
  background-image: none !important;
  background-color: transparent !important;
  padding-top: 60px !important; /* Reduced padding */
  margin-top: 0 !important;
}

/* Hero section two-layer background system - same as global */
#hero-section::before {}
#hero-section::after {}

/* Remove any thin gap between hero and reviews by overlapping slightly */
#hero-section { margin-bottom: -2px; }
#reviews-section { margin-top: 0; border-top: none !important; }

/* Ensure header appears above background with no borders */
header {
  position: relative;
  z-index: 50;
  border: none !important;
  box-shadow: none !important;
  border-bottom: none !important;
}

/* ONLY fix the header background - simple targeted solution */
header {
  background: transparent !important;
}

nav {
  background: transparent !important;
}

/* Override common Tailwind background utilities if applied to header */
.bg-black, .bg-gray-900, .bg-slate-900 {
  background-color: transparent !important;
  background: transparent !important;
}

/* Remove visible borders/separators between sections only */
section {
  border-top: none !important;
  border-bottom: none !important;
}

/* Hide any divider elements */
hr {
  display: none !important;
}

/* Ensure section-like containers have no borders */
.section, [class*="section"] {
  border: none !important;
}

/* Make content sections transparent for single-canvas effect */
#hero-section,
.content-section,
section {
  background: transparent !important;
  background-image: none !important;
  position: relative;
  z-index: 1;
}

/* Header blur handled conditionally in component */
header {
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* Hero section now uses global background - no individual background needed */

/* Ensure smooth transitions between sections */
section {
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

/* Utilities for compact layouts (desktop focus) */
.compact-section {
  padding-top: 32px !important;
  padding-bottom: 40px !important;
}

.compact-grid-gap {
  gap: 12px !important;
}

.compact-card {
  padding: 12px !important;
}

.menu-card-image {
  height: 140px !important;
  object-fit: cover !important;
}

.line-clamp-2, .line-clamp-3, .line-clamp-4 {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.line-clamp-2 { -webkit-line-clamp: 2; }
.line-clamp-3 { -webkit-line-clamp: 3; }
.line-clamp-4 { -webkit-line-clamp: 4; }

/* Desktop styles - Global background system */
@media (min-width: 769px) {
  /* Back layer: Blurred full-screen background for desktop */
  .global-fixed-background::before {
    background-size: cover;
  }
  
  /* Front layer: Clear contain-scaled image for desktop */
  .global-fixed-background::after {
    background-size: contain;
  }
  
  /*
   * DESKTOP BUTTON ALIGNMENT FIX
   * Center the Order Now button horizontally on desktop displays only
   */
  .order-now-button-wrapper {
    display: flex;
    justify-content: center;
  }
  
  body {
    padding-top: 0px; /* Leave space control to hero section only */
  }
}

/* Mobile-only styles - Global background system */
@media (max-width: 768px) {
  /* Back layer: Blurred full-screen background for mobile */
  .global-fixed-background::before {
    background-size: cover;
    background-attachment: fixed; /* Creates the parallax effect */
  }
  
  /* Front layer: Clear contain-scaled image for mobile */
  .global-fixed-background::after {
    background-size: contain;
    background-attachment: fixed; /* Creates the parallax effect */
  }
  
  body {
    background-color: transparent !important; /* Consistent with desktop */
    padding-top: 0px; /* Account for mobile header */
  }
  
  /* Mobile hero section positioning */
  #hero-section {
    padding-top: 16px !important; /* Even smaller padding for mobile */
  }
  
  /* Make all content sections transparent to show the main background */
  #hero-section,
  .content-section {
    background: transparent !important;
    background-image: none !important;
  }
  
  /*
   * FINAL MOBILE HERO LAYOUT FIX
   * This enforces a clean, vertical stacking order for all hero elements using Flexbox
   */
  .hero-content-wrapper {
    display: flex;
    
    /* This is the key fix: It forces all child elements into a vertical column */
    flex-direction: column;
    
    /* This horizontally centers all the items in the column */
    align-items: center;
    
    /* This creates a consistent vertical space BETWEEN each element in the stack */
    gap: 12px; /* Further reduced gap for more compact layout */
    
    /* Ensures the text within the elements is also centered */
    text-align: center;
  }

  /*
   * Safeguard to prevent conflicts.
   * Remove any individual top/bottom margins from the elements, as the 'gap' property now handles the spacing.
   */
  .info-cards-container,
  .main-headline-container,
  .sub-headline-paragraph,
  .order-now-button-wrapper {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
  }
  
  /* Mobile info cards container - separated cards layout */
  .info-cards-container {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 12px;
  }

  /* Mobile ordering animation easter egg */
  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
  }

  /* 
  * FLOATING INFO CARDS 
  * Makes info cards visually float for a modern look
  */
  .info-card {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    border-radius: 10px;
    background-color: rgba(10, 10, 10, 0.6);
    backdrop-filter: blur(10px);
    transform: translateZ(0);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /*
   * HERO TYPOGRAPHY SIZING AND SPACING
   * Ensures that the hero text content has proper mobile sizing
   */
  .main-headline {
    font-size: 1.8rem !important;
    line-height: 1.2 !important;
    margin-top: 0;
    padding: 0 12px;
    text-align: center;
  }

  .sub-headline {
    font-size: 0.9rem !important;
    line-height: 1.5 !important;
    padding: 0 12px;
    max-width: 100%;
    text-align: center;
  }

  /*
   * VERTICAL SPACING OPTIMIZATION
   * Properly spaces vertical sections for mobile layout
   */
  section {
    padding: 32px 0 !important;
  }

  h2 {
    margin-bottom: 16px !important;
  }

  /*
   * MOBILE CTA BUTTON STYLING
   * Makes the call-to-action button more prominent on mobile
   */
  .primary-cta {
    width: 100% !important;
    padding: 10px 12px !important;
    font-size: 0.9rem !important;
  }
}

/* Modal Specific Styles */
#order-modal {
  z-index: 99999 !important;
}

#order-modal.flex {
  display: flex !important;
}

#order-modal.hidden {
  display: none !important;
}

/* Shimmer animation for modal headline */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}